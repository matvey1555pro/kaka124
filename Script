local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer

-- Создание GUI
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "AnimalDupeUI"
gui.ResetOnSpawn = false

local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0, 400, 0, 400)
main.Position = UDim2.new(0.5, -200, 0.5, -200)
main.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
main.BorderSizePixel = 0
main.BackgroundTransparency = 0.1
main.AnchorPoint = Vector2.new(0.5, 0.5)
main.ClipsDescendants = true
main.Active = true
main.Draggable = true
main.Visible = false
main:TweenSize(UDim2.new(0, 400, 0, 400), "Out", "Quad", 0.5, true)
main.Visible = true
main:TweenPosition(UDim2.new(0.5, -200, 0.5, -200), "Out", "Bounce", 0.5, true)

-- Заголовок
local title = Instance.new("TextLabel", main)
title.Size = UDim2.new(1, 0, 0, 40)
title.Text = "Animal Dupe Menu"
title.TextColor3 = Color3.new(1, 1, 1)
title.BackgroundTransparency = 1
title.Font = Enum.Font.GothamBold
title.TextSize = 20

-- Животные (с Kitsune)
local animals = {
    "T-Rex",
    "Raccon",
    "Red fox",
    "Dragonfly",
    "Mimic Octopus",
    "Disco bee",
    "Queen bee",
    "Fennec Fox",
    "Butterfly",
    "Kitsune"
}

local selectedAnimal = nil
local dupeButton

-- Список
local listFrame = Instance.new("ScrollingFrame", main)
listFrame.Size = UDim2.new(1, -20, 1, -80)
listFrame.Position = UDim2.new(0, 10, 0, 50)
listFrame.CanvasSize = UDim2.new(0, 0, 0, #animals * 35)
listFrame.ScrollBarThickness = 6
listFrame.BackgroundTransparency = 1

for i, name in pairs(animals) do
    local button = Instance.new("TextButton", listFrame)
    button.Size = UDim2.new(1, -10, 0, 30)
    button.Position = UDim2.new(0, 5, 0, (i - 1) * 35)
    button.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    button.TextColor3 = Color3.new(1, 1, 1)
    button.Font = Enum.Font.Gotham
    button.TextSize = 16
    button.Text = name
    button.AutoButtonColor = true
    button.BackgroundTransparency = 0.2
    button.MouseButton1Click:Connect(function()
        selectedAnimal = name
        if dupeButton then
            dupeButton.Visible = true
        end
    end)
end

-- Кнопка Dupe
dupeButton = Instance.new("TextButton", main)
dupeButton.Size = UDim2.new(1, -20, 0, 40)
dupeButton.Position = UDim2.new(0, 10, 1, -50)
dupeButton.BackgroundColor3 = Color3.fromRGB(50, 50, 120)
dupeButton.TextColor3 = Color3.new(1, 1, 1)
dupeButton.Font = Enum.Font.GothamBold
dupeButton.TextSize = 18
dupeButton.Text = "Dupe"
dupeButton.Visible = false
dupeButton.BackgroundTransparency = 0.2

-- Уведомление
local function showNotification(text)
    local msg = Instance.new("TextLabel", main)
    msg.Size = UDim2.new(1, -20, 0, 30)
    msg.Position = UDim2.new(0, 10, 0, 360)
    msg.BackgroundTransparency = 1
    msg.TextColor3 = Color3.new(1, 1, 1)
    msg.Font = Enum.Font.Gotham
    msg.TextSize = 18
    msg.Text = text
    task.wait(4)
    msg:Destroy()
end

-- Dupe логика (без проверки инвентаря)
dupeButton.MouseButton1Click:Connect(function()
    if not selectedAnimal then return end

    local progressBar = Instance.new("Frame", main)
    progressBar.Size = UDim2.new(0, 0, 0, 10)
    progressBar.Position = UDim2.new(0, 10, 1, -20)
    progressBar.BackgroundColor3 = Color3.fromRGB(70, 200, 70)
    progressBar.BackgroundTransparency = 0.2
    progressBar.BorderSizePixel = 0
    progressBar.Parent = main

    local duration = 180

    for i = 0, duration do
        progressBar.Size = UDim2.new(i / duration, -20, 0, 10)
        dupeButton.Text = "Dupe (" .. math.floor(i / duration * 100) .. "%)"
        task.wait(1)
    end

    progressBar:Destroy()
    dupeButton.Text = "Dupe"
    showNotification("⚠️ Попробуйте ещё раз")
end)
